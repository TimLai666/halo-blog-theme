<th:block xmlns:th="http://www.thymeleaf.org">
  <th:insert th:replace="~{modules/head :: headFragment}"></th:insert>
  <body class="theme theme--archives"
        th:classappend="${theme.config.style.color_scheme} == 'dark' ? ' theme--dark' :
                        (${theme.config.style.color_scheme} == 'light' ? ' theme--light' : ' theme--system')"
        th:attr="data-accent=${theme.config.style.accent},
                 data-reduce-motion=${theme.config.style.reduce_motion}">

    <th:insert th:replace="~{modules/header :: headerFragment}"></th:insert>

    <main class="archives">
      <header class="archives__hero">
        <h1 class="archives__title">歸檔</h1>
        <p class="archives__sub">像時間軸一樣把文章排好：沒有干擾，只剩內容。</p>
      </header>

      <section class="archives__list">
        <th:block th:each="a : ${archives.items}">
          <h2 class="archives__year" th:text="${a.year}">2026</h2>
          <div class="archives__months" th:each="m : ${a.months}">
            <div class="archives__month">
              <div class="archives__monthNo" th:text="${m.month}">01</div>
              <ul class="archives__posts">
                <li class="archives__post" th:each="p : ${m.posts}">
                  <a class="archives__postLink" th:href="@{${p.status.permalink}}">
                    <span class="archives__postTitle" th:text="${p.spec.title}">Title</span>
                    <span class="archives__postMeta" th:text="${#temporals.format(p.spec.publishTime, 'MM-dd')}">01-01</span>
                  </a>
                </li>
              </ul>
            </div>
          </div>
        </th:block>

        <div class="pager" th:if="${archives.hasPrevious() || archives.hasNext()}">
          <a class="pager__btn" th:if="${archives.hasPrevious()}" th:href="@{${archives.prevUrl}}">← 上一頁</a>
          <span class="pager__info" th:text="${archives.page} +' / '+ ${archives.totalPages}">1 / 1</span>
          <a class="pager__btn" th:if="${archives.hasNext()}" th:href="@{${archives.nextUrl}}">下一頁 →</a>
        </div>
      </section>
    </main>

    <th:insert th:replace="~{modules/footer :: footerFragment}"></th:insert>
